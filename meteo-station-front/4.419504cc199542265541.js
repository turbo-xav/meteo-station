(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Yj9t:function(t,r,n){"use strict";n.r(r),n.d(r,"AuthModule",function(){return g});var e=n("iInd"),o=n("s7LF"),a=n("Rs+s"),i=n("8Y7J"),s=n("PDjf"),c=n("SVse"),u=n("Q2Ze"),l=n("e6WT"),b=n("Dxy4"),d=n("TSSN");function m(t,r){1&t&&(i.Rb(0,"mat-error"),i.xc(1," The username and password were not recognised "),i.Qb())}const p=[{path:"",component:(()=>{class t{constructor(t,r,n,e){this.fb=t,this.route=r,this.router=n,this.authService=e,this.loginInvalid=!1,this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/home",this.form=this.fb.group({username:["",o.o.email],password:["",o.o.required]})}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate([this.returnUrl])}login(){var t,r,n,e;if(this.loginInvalid=!1,this.form.valid)try{(null===(r=null===(t=this.form)||void 0===t?void 0:t.controls)||void 0===r?void 0:r.username)&&(null===(e=null===(n=this.form)||void 0===n?void 0:n.controls)||void 0===e?void 0:e.password)&&this.authService.login(this.form.controls.username.value,this.form.controls.password.value)}catch(o){this.loginInvalid=!0}}}return t.\u0275fac=function(r){return new(r||t)(i.Lb(o.c),i.Lb(e.a),i.Lb(e.b),i.Lb(a.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-login"]],decls:22,vars:14,consts:[[3,"formGroup"],[4,"ngIf"],[1,"full-width-input"],["matInput","","placeholder","Email","formControlName","username","required",""],["matInput","","type","password","placeholder","Password","formControlName","password","required",""],["mat-raised-button","","color","primary",3,"click"]],template:function(t,r){1&t&&(i.Rb(0,"h2"),i.xc(1),i.bc(2,"translate"),i.Qb(),i.Rb(3,"mat-card"),i.Rb(4,"mat-card-content"),i.Rb(5,"form",0),i.Rb(6,"h2"),i.xc(7,"Log In"),i.Qb(),i.wc(8,m,2,0,"mat-error",1),i.Rb(9,"mat-form-field",2),i.Mb(10,"input",3),i.Rb(11,"mat-error"),i.xc(12),i.bc(13,"translate"),i.Qb(),i.Qb(),i.Rb(14,"mat-form-field",2),i.Mb(15,"input",4),i.Rb(16,"mat-error"),i.xc(17),i.bc(18,"translate"),i.Qb(),i.Qb(),i.Rb(19,"button",5),i.Yb("click",function(){return r.login()}),i.xc(20),i.bc(21,"translate"),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(1),i.yc(i.cc(2,6,"auth.sign-in")),i.Ab(4),i.gc("formGroup",r.form),i.Ab(3),i.gc("ngIf",r.loginInvalid),i.Ab(4),i.zc(" ",i.cc(13,8,"auth.login-required")," "),i.Ab(5),i.zc(" ",i.cc(18,10,"auth.password-required")," "),i.Ab(3),i.yc(i.cc(21,12,"auth.sign-in")))},directives:[s.a,s.c,o.p,o.k,o.e,c.l,u.c,l.a,o.b,o.j,o.d,o.n,u.b,b.a],pipes:[d.c],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}"]}),t})()},{path:"unauthenticated",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-unauthenticated"]],decls:2,vars:0,template:function(t,r){1&t&&(i.Rb(0,"p"),i.xc(1,"unauthenticated works!"),i.Qb())},styles:[""]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(r){return new(r||t)},imports:[[e.e.forChild(p)],e.e]}),t})();var f=n("7GxI");let g=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(r){return new(r||t)},imports:[[f.a,h]]}),t})()}}]);